(this["webpackJsonpharvard-art-viewer"]=this["webpackJsonpharvard-art-viewer"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(16),i=n.n(r),o=n(9),s=n(3),l="89ce3864-c616-46cd-975c-c1ddb256d505",u="https://api.harvardartmuseums.org",d=n(2),j=n(6),b=n(0);var h=function(e){var t=e.record,n=e.databaseConnected,c=e.databaseRecords,a=e.handleAddFavorite,r=e.handleRemoveFavorite,i=e.handleSetCurrentSelection;if(void 0===t.primaryimageurl||null===t.primaryimageurl)return null;function o(){return n?c.includes(t.id)?Object(b.jsxs)("div",{className:"ui primary button",onClick:function(){return r(t.id)},children:[Object(b.jsx)("i",{className:"remove icon"}),"Remove from Favorites"]}):Object(b.jsxs)("div",{className:"ui primary button",onClick:function(){return a(t)},children:[Object(b.jsx)("i",{className:"add icon"}),"Add Favorite"]}):null}return Object(b.jsxs)("div",{className:"ui card",children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)("img",{src:t.primaryimageurl,alt:t.title})}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"header",children:t.title}),Object(b.jsx)("div",{className:"meta",children:Object(b.jsx)("span",{className:"date",children:t.objectdate})})]}),Object(b.jsx)("div",{className:"extra content",children:Object(b.jsxs)("div",{className:"ui two buttons",children:[Object(b.jsxs)(j.b,{to:"/detail",className:"ui green button",onClick:function(){return i(t)},children:[Object(b.jsx)("i",{className:"info icon"}),"More Info"]}),Object(b.jsx)(o,{})]})})]})},m=n(11);var f=function(e){var t=e.artInfo,n=e.artRecords,c=e.handleNext,a=e.databaseConnected,r=e.databaseRecords,i=e.handleAddFavorite,o=e.handleRemoveFavorite,s=e.handleSetCurrentSelection,l=null===n||void 0===n?void 0:n.map((function(e){return Object(b.jsx)(h,{record:e,databaseConnected:a,databaseRecords:r,handleAddFavorite:i,handleRemoveFavorite:o,handleSetCurrentSelection:s},Object(m.a)())}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("h2",{className:"ui header",children:Object(b.jsxs)("em",{children:["Showing ",null===n||void 0===n?void 0:n.length," of ",null===t||void 0===t?void 0:t.totalrecords," Works"]})}),Object(b.jsx)("div",{className:"ui four cards",children:l}),(null===n||void 0===n?void 0:n.length)>=(null===t||void 0===t?void 0:t.totalrecords)?null:Object(b.jsx)("button",{className:"ui primary button",onClick:function(){return c()},style:{marginTop:"15px"},children:"Load More..."})]})};var O=function(e){var t=e.handleCategoryChange,n=e.handleFilterClick,a=e.resetItems,r=e.itemList,i=e.setItemList,o=e.handleKeywordSearch,l=(e.handleDisplayFavorites,e.databaseConnected),u=Object(c.useState)("object"),d=Object(s.a)(u,2),h=d[0],m=d[1],f=Object(c.useState)(""),O=Object(s.a)(f,2),v=O[0],x=O[1],p=null===r||void 0===r?void 0:r.map((function(e){return Object(b.jsx)("div",{className:"column",style:{cursor:"pointer"},onClick:function(){return t(e.parentCategory,e.id,e.name)},children:null===e||void 0===e?void 0:e.name},e.id)}));function g(e){var t=e.target.name;if(t===h&&r.length>0)i([]);else if("object"===t)a();else{if("search"===t)return o(v);if("favorites"===t)return null;n(t)}m((function(){return t})),x((function(){return""}))}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"ui icon input",style:{width:"300px"},children:[Object(b.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){return x(e.target.value)},value:v,onKeyUp:function(e){"Enter"===e.key&&o(v)}}),Object(b.jsx)("i",{className:"search icon"})]}),Object(b.jsx)("button",{className:"ui button",name:"search",onClick:function(e){return g(e)},children:"Search"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"ui buttons",children:[Object(b.jsx)("button",{className:"object"===h?"ui positive button":"ui button",onClick:function(e){return g(e)},name:"object",children:"All Objects"}),Object(b.jsx)("button",{className:"classification"===h?"ui positive button":"ui button",onClick:function(e){return g(e)},name:"classification",children:"Classification"}),Object(b.jsx)("button",{className:"century"===h?"ui positive button":"ui button",onClick:function(e){return g(e)},name:"century",children:"Century"}),Object(b.jsx)("button",{className:"gallery"===h?"ui positive button":"ui button",onClick:function(e){return g(e)},name:"gallery",children:"Gallery"}),l?Object(b.jsx)(j.b,{to:"/favorites",children:Object(b.jsx)("button",{className:"favorites"===h?"ui positive button":"ui button",onClick:function(e){return g(e)},name:"favorites",id:"favoriteBtn",children:"Favorites"})}):null]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"ui four column grid",children:p||null})]})};var v=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=function(){window.scrollY>300?a(!0):a(!1)};Object(c.useEffect)((function(){return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}}),[]);var i=n?{opacity:100}:{opacity:0};return Object(b.jsxs)("button",{className:"ui icon button",onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},onScroll:r,style:i,children:[Object(b.jsx)("i",{className:"up arrow icon"}),"Top of Page"]})};var x=function(e){var t=e.record,n=Object(d.f)();t||n.goBack();var c=t.primaryimageurl,a=t.title,r=t.description,i=t.classification,o=t.dated,s=void 0===o?"Unknown":o,l=t.objectnumber;return Object(b.jsxs)("div",{className:"ui centered card",id:"detailDisplay",onLoad:window.scrollTo(0,document.body.scrollHeight),children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)("img",{src:c,alt:a+" image"})}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("h3",{className:"ui header",children:a}),Object(b.jsx)("div",{className:"description",children:r}),Object(b.jsxs)("div",{className:"classification",children:[Object(b.jsx)("strong",{children:"Classification:"})," ",i]}),Object(b.jsxs)("div",{className:"date",children:[Object(b.jsx)("strong",{children:"Date:"})," ",s]}),Object(b.jsxs)("div",{className:"objectnumber",children:[Object(b.jsx)("strong",{children:"Object Number:"})," ",l]})]}),Object(b.jsx)("button",{className:"ui primary button",onClick:function(){return n.goBack()},children:"Go Back"})]})},p=n.p+"static/media/ham-explorer.d67647c2.png";var g=function(e){var t=e.databaseConnected,n=Object(c.useState)(!1),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(b.jsxs)("div",{className:"ui label",style:{position:"absolute",top:"0",left:"0"},onMouseOver:function(){return i(!0)},onMouseOut:function(){return i(!1)},children:[Object(b.jsx)("i",{className:"database icon"})," ",t?"Connected!":"No connection to server!",!t&&r&&Object(b.jsx)("div",{className:"ui red message",children:"For full functionality, you must connect to the database."}),t&&r&&Object(b.jsx)("div",{className:"ui blue message",children:"Connection established successfully with obie-harvard-backend@heroku!"})]})};var y=function(){var e=Object(d.g)(),t="/about"===e.pathname?"/":"/about",n="/about"===e.pathname?"Return to Main":"About this Project",c="/about"===e.pathname?"home icon":"question circle outline icon";return Object(b.jsx)(j.b,{to:t,children:Object(b.jsxs)("div",{className:"ui label",style:{position:"absolute",top:"0",right:"0"},children:[Object(b.jsx)("i",{className:c}),n]})})};var N=function(e){var t=e.databaseConnected;return Object(b.jsxs)("header",{children:[Object(b.jsx)(g,{databaseConnected:t}),Object(b.jsx)(y,{}),Object(b.jsx)("img",{src:p,alt:"ham-explorer",style:{maxWidth:"100%",height:"auto"}})]})};var C=function(){var e=Object(d.f)();return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"ui raised segment",style:{width:"50%",marginLeft:"auto",marginRight:"auto"},children:[Object(b.jsx)("h1",{className:"ui header",children:"About"}),Object(b.jsx)("p",{children:"This application was developed during the full-time Software Engineering course at the Flatiron School. The application was created to help users explore the Harvard Museum of Art and remotely view objects in their collection."}),Object(b.jsx)("p",{children:"The application was created with the following technologies:"}),Object(b.jsxs)("div",{className:"ui horizontal list",children:[Object(b.jsx)("div",{className:"item",children:Object(b.jsx)("i",{className:"node js icon",style:{fontSize:"3em"}})}),Object(b.jsx)("div",{className:"item",children:Object(b.jsx)("i",{className:"react icon",style:{fontSize:"3em"}})}),Object(b.jsx)("div",{className:"item",children:Object(b.jsx)("img",{src:"https://uploads.sitepoint.com/wp-content/uploads/2016/04/1461122387heroku-logo.jpg",style:{position:"relative",top:"18px",height:"45px",filter:"grayscale(100%)"},alt:"Heroku logo"})})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("a",{href:"https://github.com/ObieMunoz/harvard-art-explorer/issues/new",target:"_blank",rel:"noopener noreferrer",className:"ui red button",children:[Object(b.jsx)("i",{className:"github icon"}),"Report a Problem"]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("a",{href:"https://github.com/ObieMunoz/harvard-art-explorer/",target:"_blank",rel:"noopener noreferrer",className:"ui primary button",children:[Object(b.jsx)("i",{className:"github icon"}),"This Project on Github"]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"ui primary button",onClick:function(){return e.goBack()},children:"Go Back"})]})})},k="https://obie-harvard-backend.herokuapp.com/saved_items";var S=function(e){var t=e.databaseRecords,n=e.handleAddFavorite,a=e.handleRemoveFavorite,r=e.handleSetCurrentSelection,i=e.databaseConnected,o=void 0===i||i,j=Object(c.useState)(null),f=Object(s.a)(j,2),O=f[0],v=f[1],x=Object(d.f)();return Object(c.useEffect)((function(){Promise.all(t.map((function(e){return fetch("".concat(u,"/object/").concat(e,"?apikey=").concat(l))}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var c=e.map((function(e){return Object(b.jsx)(h,{record:e,handleAddFavorite:n,handleRemoveFavorite:a,handleSetCurrentSelection:r,databaseConnected:o,databaseRecords:t},Object(m.a)())}));v((function(){return c}))}))}),[t,n,a,r,o]),Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"ui primary button",onClick:function(){return x.goBack()},children:"Go Back"}),Object(b.jsx)("h2",{className:"ui header",children:null===O?null:1===O.length?Object(b.jsxs)("em",{children:["Showing ",null===O||void 0===O?void 0:O.length," Work"]}):O.length>0?Object(b.jsxs)("em",{children:["Showing ",null===O||void 0===O?void 0:O.length," Works"]}):Object(b.jsx)("em",{children:"No Favorites Saved. Please add more and come back!"})}),Object(b.jsx)("div",{className:"ui four cards",children:O})]})};var w=function(){return Object(b.jsx)("div",{className:"ui horizontal divider",children:Object(b.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()]})})};var F=function(){var e=16,t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),j=Object(s.a)(i,2),h=j[0],m=j[1],p=Object(c.useState)(e),g=Object(s.a)(p,2),y=g[0],F=g[1],R=Object(c.useState)([]),A=Object(s.a)(R,2),E=A[0],z=A[1],T=Object(c.useState)(!1),L=Object(s.a)(T,2),P=L[0],B=L[1],I=Object(c.useState)([]),M=Object(s.a)(I,2),D=M[0],G=M[1],W=Object(c.useState)(null),H=Object(s.a)(W,2),J=H[0],K=H[1];function _(e){fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){G([e.id].concat(Object(o.a)(D)))}))}function U(e){fetch("".concat(k,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return G(D.filter((function(t){return t!==e})))}))}function Y(e){K(e)}Object(c.useEffect)((function(){fetch(k).then((function(e){return e.json()})).then((function(e){G(e.map((function(e){return e.id}))),B(!0)})).catch((function(e){return B(!1)})),fetch("".concat(u,"/object?hasimage=1&size=100&apikey=").concat(l)).then((function(e){return e.json()})).then((function(e){r((function(t){return e.info}));var t=e.records.filter((function(e){return null!==e.primaryimageurl&&void 0!==e.primaryimageurl}));m((function(e){return Object(o.a)(t)}))}))}),[]);var q=h.slice(0,y);return Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsx)(N,{databaseConnected:P}),Object(b.jsx)("br",{}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/detail",children:Object(b.jsx)(x,{record:J})}),Object(b.jsx)(d.a,{path:"/about",children:Object(b.jsx)(C,{})}),Object(b.jsx)(d.a,{path:"/favorites",children:Object(b.jsx)(S,{databaseRecords:D,setArtRecords:m,handleAddFavorite:_,handleRemoveFavorite:U,handleSetCurrentSelection:Y})}),Object(b.jsxs)(d.a,{path:"/",children:[Object(b.jsx)(O,{handleCategoryChange:function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;fetch("".concat(u,"/object?").concat(e,"=").concat("century"===e?n:t,"&hasimage=1&size=").concat(c,"&apikey=").concat(l)).then((function(e){return e.json()})).then((function(e){m(e.records),r(e.info),z([])}))},handleFilterClick:function(t){fetch("".concat(u,"/").concat(t,"?&size=1000&apikey=").concat(l)).then((function(e){return e.json()})).then((function(n){var c=n.records;c.forEach((function(e){console.log(e),e.parentCategory=t}));var a=c.sort((function(e,t){return e.name.localeCompare(t.name)}));z(a),F((function(){return e}))}))},resetItems:function(){fetch("".concat(u,"/object?hasimage=1&size=").concat(e,"&apikey=").concat(l)).then((function(e){return e.json()})).then((function(t){z([]),m((function(){return t.records})),r((function(){return t.info})),F(e)}))},itemList:E,setItemList:z,handleKeywordSearch:function(t){fetch("".concat(u,"/object?keyword=").concat(t,"&hasimage=1&size=100&apikey=").concat(l)).then((function(e){return e.json()})).then((function(t){var n=t.records.filter((function(e){return null!==e.primaryimageurl}));m(n),r(t.info),F((function(){return e}))}))},handleDisplayFavorites:function(){Promise.all(D.map((function(e){return fetch("".concat(u,"/object/").concat(e,"?apikey=").concat(l))}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=t.map((function(e){return e}));m(n),F((function(){return e})),z([])}))},databaseConnected:P}),Object(b.jsx)(f,{artInfo:a,artRecords:q,handleNext:function(){if(F((function(t){return t+e})),y>=parseInt(a.totalrecords))return!0;y>=h.length&&fetch(a.next).then((function(e){return e.json()})).then((function(e){var t=e.records.filter((function(e){return null!==e.primaryimageurl&&void 0!==e.primaryimageurl})),n=[].concat(Object(o.a)(h),Object(o.a)(t));m((function(){return n})),r((function(){return e.info}))}))},databaseConnected:P,databaseRecords:D,handleAddFavorite:_,handleRemoveFavorite:U,handleSetCurrentSelection:Y}),Object(b.jsx)(v,{})]})]}),Object(b.jsx)(w,{})]})};n(32),n(33);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(F,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.82d749d7.chunk.js.map